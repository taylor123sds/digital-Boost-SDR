(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[120],{5383:function(e,t,s){Promise.resolve().then(s.bind(s,2986))},4766:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2718:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},525:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},257:function(e,t,s){"use strict";var r,n;e.exports=(null==(r=s.g.process)?void 0:r.env)&&"object"==typeof(null==(n=s.g.process)?void 0:n.env)?s.g.process:s(4227)},4227:function(e){!function(){var t={229:function(e){var t,s,r,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(e){s=i}}();var l=[],c=!1,d=-1;function u(){c&&r&&(c=!1,r.length?l=r.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=o(u);c=!0;for(var t=l.length;t;){for(r=l,l=[];++d<t;)r&&r[d].run();d=-1,t=l.length}r=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function x(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];l.push(new m(e,t)),1!==l.length||c||o(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=x,n.addListener=x,n.once=x,n.off=x,n.removeListener=x,n.removeAllListeners=x,n.emit=x,n.prependListener=x,n.prependOnceListener=x,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},s={};function r(e){var n=s[e];if(void 0!==n)return n.exports;var a=s[e]={exports:{}},i=!0;try{t[e](a,a.exports,r),i=!1}finally{i&&delete s[e]}return a.exports}r.ab="//";var n=r(229);e.exports=n}()},2986:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(7437),n=s(2265),a=s(2718),i=s(1723),o=s(525);let l=(0,s(9205).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var c=s(757),d=s(6334),u=s(1902),h=s(1837),m=s(3448);function x(){let[e,t]=(0,n.useState)("30d"),[s,x]=(0,n.useState)(null),[g,f]=(0,n.useState)(!0);(0,n.useEffect)(()=>{v()},[e]);let v=async()=>{f(!0);try{let t=await h.h.getAnalytics(e);x(t)}catch(s){let t="7d"===e?7:"30d"===e?30:90;x({metrics:{totalConversations:15847,avgResponseTime:2.4,conversionRate:12.8,satisfactionScore:4.6},chartData:{labels:Array.from({length:t},(e,s)=>{let r=new Date;return r.setDate(r.getDate()-(t-s-1)),r.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}).slice(-10),conversations:Array.from({length:10},()=>Math.floor(500*Math.random())+200),conversions:Array.from({length:10},()=>Math.floor(50*Math.random())+20)}})}finally{f(!1)}};return g?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"w-8 h-8 border-2 border-cyan border-t-transparent rounded-full animate-spin"})}):(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsx)(u.Z,{title:"Analytics"}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Analytics"}),(0,r.jsx)("p",{className:"text-gray-400 mt-1",children:"M\xe9tricas e performance dos agentes"})]}),(0,r.jsx)("div",{className:"flex gap-2",children:["7d","30d","90d"].map(s=>(0,r.jsx)(d.z,{variant:e===s?"primary":"secondary",size:"sm",onClick:()=>t(s),children:"7d"===s?"7 dias":"30d"===s?"30 dias":"90 dias"},s))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)(c.R,{title:"Total de Conversas",value:(0,m.uf)((null==s?void 0:s.metrics.totalConversations)||0),change:{value:15.3,positive:!0},icon:(0,r.jsx)(a.Z,{size:24,className:"text-cyan"})}),(0,r.jsx)(c.R,{title:"Tempo M\xe9dio de Resposta",value:"".concat((null==s?void 0:s.metrics.avgResponseTime)||0,"s"),change:{value:8.2,positive:!0},icon:(0,r.jsx)(i.Z,{size:24,className:"text-green-400"})}),(0,r.jsx)(c.R,{title:"Taxa de Convers\xe3o",value:"".concat((null==s?void 0:s.metrics.conversionRate)||0,"%"),change:{value:2.1,positive:!0},icon:(0,r.jsx)(o.Z,{size:24,className:"text-violet"})}),(0,r.jsx)(c.R,{title:"Satisfa\xe7\xe3o",value:"".concat((null==s?void 0:s.metrics.satisfactionScore)||0,"/5"),change:{value:.3,positive:!0},icon:(0,r.jsx)(l,{size:24,className:"text-yellow-400"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(c.Z,{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Conversas por Dia"}),(0,r.jsx)("div",{className:"h-64 flex items-end gap-2",children:null==s?void 0:s.chartData.conversations.map((e,t)=>{let n=Math.max(...(null==s?void 0:s.chartData.conversations)||[1]);return(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,r.jsx)("div",{className:"w-full bg-gradient-to-t from-cyan to-violet rounded-t-lg transition-all hover:opacity-80",style:{height:"".concat(e/n*100,"%")}}),(0,r.jsx)("span",{className:"text-xs text-gray-500 truncate",children:null==s?void 0:s.chartData.labels[t]})]},t)})})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Convers\xf5es por Dia"}),(0,r.jsx)("div",{className:"h-64 flex items-end gap-2",children:null==s?void 0:s.chartData.conversions.map((e,t)=>{let n=Math.max(...(null==s?void 0:s.chartData.conversions)||[1]);return(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,r.jsx)("div",{className:"w-full bg-gradient-to-t from-green-500 to-cyan rounded-t-lg transition-all hover:opacity-80",style:{height:"".concat(e/n*100,"%")}}),(0,r.jsx)("span",{className:"text-xs text-gray-500 truncate",children:null==s?void 0:s.chartData.labels[t]})]},t)})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(c.Z,{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Agentes Top"}),(0,r.jsx)("div",{className:"space-y-4",children:[{name:"ORBION SDR",conversations:5432,rate:15.2},{name:"Suporte Geral",conversations:3218,rate:92.1},{name:"Qualificador",conversations:1847,rate:28.4}].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-cyan to-violet flex items-center justify-center text-sm font-bold",children:t+1}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:[(0,m.uf)(e.conversations)," conversas"]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"font-medium text-green-400",children:[e.rate,"%"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"taxa"})]})]},e.name))})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Hor\xe1rios de Pico"}),(0,r.jsx)("div",{className:"space-y-4",children:[{hour:"09:00 - 11:00",messages:2847},{hour:"14:00 - 16:00",messages:2156},{hour:"19:00 - 21:00",messages:1892},{hour:"11:00 - 13:00",messages:1654}].map(e=>{let t=e.messages/2847*100;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-300",children:e.hour}),(0,r.jsx)("span",{className:"text-gray-400",children:(0,m.uf)(e.messages)})]}),(0,r.jsx)("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-cyan to-violet",style:{width:"".concat(t,"%")}})})]},e.hour)})})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"Distribui\xe7\xe3o de Respostas"}),(0,r.jsx)("div",{className:"space-y-4",children:[{label:"Resolvido pelo agente",value:68,color:"bg-green-500"},{label:"Transferido para humano",value:18,color:"bg-yellow-500"},{label:"Sem resposta",value:9,color:"bg-gray-500"},{label:"Opt-out",value:5,color:"bg-red-500"}].map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("p",{className:"text-sm text-gray-300",children:e.label})}),(0,r.jsxs)("p",{className:"font-medium",children:[e.value,"%"]})]},e.label))})]})]})]})]})}},1902:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(7437),n=s(3247),a=s(4766),i=s(2369),o=s(2265);function l(e){let{title:t}=e,[s,l]=(0,o.useState)(!1);return(0,r.jsxs)("header",{className:"h-16 glass border-b border-glass-border flex items-center justify-between px-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:t}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"relative",children:s?(0,r.jsx)("input",{type:"text",placeholder:"Buscar...",className:"bg-dark-bg2 border border-glass-border rounded-lg px-4 py-2 w-64 focus:outline-none focus:border-cyan transition-colors",autoFocus:!0,onBlur:()=>l(!1)}):(0,r.jsx)("button",{onClick:()=>l(!0),className:"p-2 rounded-lg hover:bg-white/5 transition-colors text-gray-400 hover:text-white",children:(0,r.jsx)(n.Z,{size:20})})}),(0,r.jsxs)("button",{className:"p-2 rounded-lg hover:bg-white/5 transition-colors text-gray-400 hover:text-white relative",children:[(0,r.jsx)(a.Z,{size:20}),(0,r.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-cyan rounded-full"})]}),(0,r.jsxs)("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-cyan to-violet flex items-center justify-center",children:(0,r.jsx)(i.Z,{size:16,className:"text-dark-bg"})}),(0,r.jsx)("span",{className:"text-sm font-medium hidden md:block",children:"Admin"})]})]})]})}},6334:function(e,t,s){"use strict";s.d(t,{z:function(){return a}});var r=s(7437),n=s(3448);let a=(0,s(2265).forwardRef)((e,t)=>{let{variant:s="primary",size:a="md",loading:i,icon:o,children:l,className:c,disabled:d,...u}=e;return(0,r.jsxs)("button",{ref:t,className:(0,n.cn)("inline-flex items-center justify-center gap-2 font-medium transition-all duration-200 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-gradient-to-r from-cyan to-violet text-dark-bg hover:shadow-lg hover:shadow-cyan/30 hover:scale-[1.02]",secondary:"glass border border-glass-border hover:border-cyan/50 hover:bg-white/5",ghost:"hover:bg-white/5 text-gray-400 hover:text-white",danger:"bg-red-500/20 text-red-400 border border-red-500/30 hover:bg-red-500/30"}[s],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2.5",lg:"px-6 py-3 text-lg"}[a],c),disabled:d||i,...u,children:[i?(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o||null,l]})});a.displayName="Button"},757:function(e,t,s){"use strict";s.d(t,{R:function(){return i},Z:function(){return a}});var r=s(7437),n=s(3448);function a(e){let{children:t,className:s,hover:a=!1,onClick:i}=e;return(0,r.jsx)("div",{className:(0,n.cn)("glass-card p-6 rounded-xl",a&&"transition-all hover:border-cyan/30 hover:shadow-lg hover:shadow-cyan/5 cursor-pointer",s),onClick:i,children:t})}function i(e){let{title:t,value:s,change:i,icon:o,className:l}=e;return(0,r.jsx)(a,{className:(0,n.cn)("relative overflow-hidden",l),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:t}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:s}),i&&(0,r.jsxs)("p",{className:(0,n.cn)("text-sm mt-2",i.positive?"text-green-400":"text-red-400"),children:[i.positive?"+":"",i.value,"% vs semana anterior"]})]}),o&&(0,r.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-br from-cyan/20 to-violet/20",children:o})]})})}},1837:function(e,t,s){"use strict";s.d(t,{h:function(){return a}});let r=s(257).env.NEXT_PUBLIC_API_URL||"/api";class n{getToken(){return localStorage.getItem("token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:s="GET",body:r,headers:n={}}=t,a=this.getToken(),i={method:s,headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer ".concat(a)},...n}};r&&(i.body=JSON.stringify(r));let o=await fetch("".concat(this.baseUrl).concat(e),i);if(!o.ok)throw 401===o.status&&(localStorage.removeItem("token"),window.location.href="/login"),Error((await o.json().catch(()=>({message:"Request failed"}))).message||"HTTP ".concat(o.status));return o.json()}async login(e,t){return this.request("/auth/login",{method:"POST",body:{email:e,password:t}})}async register(e){return this.request("/auth/register",{method:"POST",body:e})}async getDashboardStats(){return this.request("/dashboard/stats")}async getAgents(){return this.request("/agents")}async getAgent(e){return this.request("/agents/".concat(e))}async createAgent(e){return this.request("/agents",{method:"POST",body:e})}async updateAgent(e,t){return this.request("/agents/".concat(e),{method:"PUT",body:t})}async deleteAgent(e){return this.request("/agents/".concat(e),{method:"DELETE"})}async getLeads(e){let t=new URLSearchParams(e).toString();return this.request("/leads?".concat(t))}async getLead(e){return this.request("/leads/".concat(e))}async updateLead(e,t){return this.request("/leads/".concat(e),{method:"PUT",body:t})}async getCampaigns(){return this.request("/campaigns")}async getCampaign(e){return this.request("/campaigns/".concat(e))}async createCampaign(e){return this.request("/campaigns",{method:"POST",body:e})}async getAnalytics(e){return this.request("/analytics?period=".concat(e))}constructor(e){this.baseUrl=e}}let a=new n(r)},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return a},o0:function(){return l},p6:function(){return o},uf:function(){return i}});var r=s(1994),n=s(3335);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}function i(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function o(e){let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short",year:"numeric"}).format(t)}function l(e){let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}).format(t)}}},function(e){e.O(0,[590,971,117,744],function(){return e(e.s=5383)}),_N_E=e.O()}]);