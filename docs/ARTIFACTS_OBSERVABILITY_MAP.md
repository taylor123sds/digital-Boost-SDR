# Observability Map

- Files using console: 150
- Files using logger: 53

## console.* files

- src/agents/agent_hub.js
- src/agents/agent_hub_init.js
- src/agents/atendimento_agent.js
- src/agents/scheduler_agent.js
- src/agents/sdr_agent.js
- src/agents/specialist_agent.js
- src/api/routes/activities.routes.js
- src/api/routes/agents.routes.js
- src/api/routes/ai-insights.routes.js
- src/api/routes/analytics.routes.js
- src/api/routes/auth.routes.js
- src/api/routes/cadence.routes.js
- src/api/routes/channels.routes.js
- src/api/routes/clientes.routes.js
- src/api/routes/command-center.routes.js
- src/api/routes/crm/accounts.routes.js
- src/api/routes/crm/contacts.routes.js
- src/api/routes/crm/leads.routes.js
- src/api/routes/crm/opportunities.routes.js
- src/api/routes/crm-integration.routes.js
- src/api/routes/dashboard.routes.js
- src/api/routes/debug.routes.js
- src/api/routes/email-optin.routes.js
- src/api/routes/forecasting.routes.js
- src/api/routes/funil.routes.js
- src/api/routes/google/calendar.routes.js
- src/api/routes/google/sheets.routes.js
- src/api/routes/health.routes.js
- src/api/routes/index.js
- src/api/routes/lead-scoring.routes.js
- src/api/routes/learning.routes.js
- src/api/routes/meetings.routes.js
- src/api/routes/notifications.routes.js
- src/api/routes/pipeline.routes.js
- src/api/routes/reports.routes.js
- src/api/routes/team.routes.js
- src/api/routes/webhook.routes.js
- src/api/routes/webhooks-inbound.routes.js
- src/api/routes/whatsapp.routes.js
- src/automation/CadenceEngine.js
- src/automation/ProspectingEngine.js
- src/config/AgentConfigLoader.js
- src/config/express.config.js
- src/config/index.js
- src/config/server.startup.js
- src/core/ConsultativeEngine.js
- src/core/DynamicConsultativeEngine.js
- src/core/IntentRouter.js
- src/core/openai_client.js
- src/db/migrate.js
- src/db/migrations/003_prospect_leads.js
- src/db/migrations/004_pattern_applier.js
- src/fixes/_DEPRECATED_history_patch.js
- src/fixes/enhanced_history_manager.js
- src/handlers/audio_processor.js
- src/intelligence/ArchetypeEngine.js
- src/intelligence/AutoOptimizer.js
- src/intelligence/ContextWindowManager.js
- src/intelligence/ContextualIntelligence.js
- src/intelligence/ConversationOutcomeTracker.js
- src/intelligence/ConversationRecovery.js
- src/intelligence/FeedbackLoop.js
- src/intelligence/IntelligenceOrchestrator.js
- src/intelligence/PromptAdaptationSystem.js
- src/intelligence/SentimentAnalyzer.js
- src/intelligence/UnifiedIntentPipeline.js
- src/learning/conversation_analytics.js
- src/memory.js
- src/messaging/MediaSender.js
- src/messaging/UnifiedMessageBuilder.js
- src/middleware/auth.middleware.js
- src/middleware/input-validation.js
- src/middleware/rate-limiter.js
- src/middleware/tenant.middleware.js
- src/models/BaseModel.js
- src/platform/api/RuntimeAdapter.js
- src/platform/api/routes/agents.routes.js
- src/platform/api/routes/runtime.routes.js
- src/platform/database/index.js
- src/platform/runtime/state_machines/SDRStateMachine.js
- src/rag.js
- src/repositories/agent.repository.js
- src/repositories/lead.repository.js
- src/scalable/admin/AdminApiRoutes.js
- src/scalable/agents/AgentApiRoutes.js
- src/scalable/agents/AgentConfigRoutes.js
- src/scalable/agents/AgentConfigService.js
- src/scalable/agents/AgentService.js
- src/scalable/agents/ConfigurableConsultativeEngine.js
- src/scalable/agents/EvolutionInstanceManager.js
- src/scalable/agents/SupportEngine.js
- src/scalable/cache/MemoryCacheProvider.js
- src/scalable/cache/RedisCacheProvider.js
- src/scalable/cache/index.js
- src/scalable/config/FeatureFlags.js
- src/scalable/database/PostgreSQLDatabaseProvider.js
- src/scalable/database/SQLiteDatabaseProvider.js
- src/scalable/database/index.js
- src/scalable/index.js
- src/scalable/locks/MemoryLockProvider.js
- src/scalable/locks/RedisLockProvider.js
- src/scalable/locks/index.js
- src/scalable/queue/BullMQProvider.js
- src/scalable/queue/index.js
- src/scalable/tenant/TenantContext.js
- src/schemas/leadState.schema.js
- src/security.js
- src/services/AbandonmentDetectionJob.js
- src/services/AuthService.js
- src/services/EmailService.js
- src/services/digital_boost_audio_service.js
- src/services/meetings/MeetingAnalysisService.js
- src/services/meetings/MeetingTranscriptionService.js
- src/tools/archetypes.js
- src/tools/bant_stages_v2.js
- src/tools/calendar_enhanced.js
- src/tools/campaign_trigger.js
- src/tools/context_manager.js
- src/tools/conversation_manager.js
- src/tools/digital_boost_explainer.js
- src/tools/document_analyzer.js
- src/tools/elevenlabs_tts.js
- src/tools/exit_detector.js
- src/tools/google_sheets.js
- src/tools/intelligent_opt_out.js
- src/tools/lead_scoring_system.js
- src/tools/meeting_scheduler.js
- src/tools/question_variations.js
- src/tools/response_optimizer.js
- src/tools/whatsapp.js
- src/utils/ContactLockManager.js
- src/utils/audio_cleanup.js
- src/utils/blacklist.js
- src/utils/contact_lock.js
- src/utils/error_handler.js
- src/utils/first_contact_lock.js
- src/utils/first_message_cache.js
- src/utils/graceful_shutdown.js
- src/utils/human_verification_store.js
- src/utils/logger-wrapper.js
- src/utils/memoryCleanup.js
- src/utils/message-queue.js
- src/utils/messageDeduplication.js
- src/utils/message_timing_store.js
- src/utils/phoneNormalizer.js
- src/utils/phone_normalizer.js
- src/utils/port-manager.js
- src/utils/sheetsManager.js
- src/utils/single-instance.js
- src/utils/stateManager.js

## logger.* files

- src/api/controllers/WebhookController.js
- src/api/routes/automation.routes.js
- src/api/routes/metrics.routes.js
- src/api/routes/website.routes.js
- src/application/use-cases/lead/CreateLeadUseCase.js
- src/application/use-cases/lead/QualifyLeadUseCase.js
- src/application/use-cases/lead/UpdateBANTStageUseCase.js
- src/application/use-cases/message/ProcessIncomingMessageUseCase.js
- src/application/use-cases/message/SendMessageUseCase.js
- src/automation/engine.js
- src/automation/followup/installer.js
- src/config/di-container.js
- src/db/connection.js
- src/db/transaction.js
- src/domain/services/BANTQualificationService.js
- src/domain/services/ConversationService.js
- src/domain/services/LeadService.js
- src/infrastructure/adapters/GoogleSheetsAdapter.js
- src/infrastructure/adapters/OpenAIAdapter.js
- src/infrastructure/adapters/WhatsAppAdapter.js
- src/infrastructure/cache/CacheManager.js
- src/infrastructure/events/EventBus.js
- src/infrastructure/redis/RedisClient.js
- src/middleware/error-handler.js
- src/providers/EvolutionProvider.js
- src/providers/crm/KommoCRMProvider.js
- src/repositories/base-tenant.repository.js
- src/repositories/base.repository.js
- src/repositories/conversation.repository.js
- src/repositories/memory.repository.js
- src/repositories/state.repository.js
- src/server.js
- src/services/EntitlementService.js
- src/services/HealthCheckService.js
- src/services/IntegrationOAuthService.js
- src/services/IntegrationService.js
- src/services/RateLimitService.js
- src/services/UsageMeteringService.js
- src/utils/CircuitBreaker.js
- src/utils/errors/index.js
- src/utils/health-check.js
- src/utils/logger-wrapper.js
- src/utils/logger.enhanced.js
- src/utils/logger.js
- src/utils/metrics.js
- src/utils/rate_limiter.js
- src/utils/retry.js
- src/utils/validators.js
- src/v2/domain/BaseService.js
- src/v2/infrastructure/database/BaseRepository.js
- src/v2/infrastructure/database/DatabaseConnection.js
- src/v2/shared/utils/logger.js
- src/worker.js
